
    <html lang="en">
    <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <style>
    body {
    font-family: Sans-Serif;
    }
    </style>
    </head>
    <body>
    <h3>
    Heatmaps
    </h3>
    </body>
    <script>
    var any_text = ["医生 医术 很 恶心 ， 而且 态度 太差 了 <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD> <PAD>"];
var trigram_weights = [[0.09241890907287598, 0.09503723680973053, 0.0952739492058754, 0.09509848058223724, 0.09440284967422485, 0.0947875827550888, 0.0947924554347992, 0.09466628730297089, 0.09409160912036896, 0.0942588821053505, 0.09406360983848572, 0.0932798832654953, 0.09356236457824707, 0.09320113062858582, 0.09321664273738861, 0.09227904677391052, 0.09194637835025787, 0.0916391909122467, 0.09202771633863449, 0.09120076894760132, 0.09072068333625793, 0.09201711416244507, 0.09224817156791687, 0.0922405943274498, 0.0916195660829544, 0.09070919454097748, 0.08999107033014297, 0.09127116203308105, 0.0905861034989357, 0.09187780320644379, 0.09176391363143921, 0.09032759070396423, 0.08882156759500504, 0.08832726627588272, 0.08935292065143585, 0.0903216302394867, 0.0900329053401947, 0.0910668671131134, 0.09049844741821289, 0.09103444963693619, 0.09064912050962448, 0.09085504710674286, 0.09121280163526535, 0.09118607640266418, 0.09052227437496185, 0.08842453360557556, 0.09067495167255402, 0.09113221615552902, 0.09159253537654877, 0.09190599620342255, 0.09153355658054352, 0.09116950631141663, 0.09223995357751846, 0.09208019077777863, 0.09212161600589752, 0.09039700031280518, 0.09085113555192947, 0.09061361849308014, 0.08950024098157883, 0.08815908432006836, 0.08425769954919815, 0.07891200482845306, 0.07443231344223022, 0.07322987914085388, 0.18627271056175232]];

    var color = "255,0,0";
    var ngram_length = 3;
    var half_ngram = 1;
    for (var k=0; k < any_text.length; k++) {
    var tokens = any_text[k].split(" ");
    var intensity = new Array(tokens.length);
    var max_intensity = Number.MIN_SAFE_INTEGER;
    var min_intensity = Number.MAX_SAFE_INTEGER;
    for (var i = 0; i < intensity.length; i++) {
    intensity[i] = 0.0;
    for (var j = -half_ngram; j < ngram_length-half_ngram; j++) {
    if (i+j < intensity.length && i+j > -1) {
    intensity[i] += trigram_weights[k][i + j];
    }
    }
    if (i == 0 || i == intensity.length-1) {
    intensity[i] /= 2.0;
    } else {
    intensity[i] /= 3.0;
    }
    if (intensity[i] > max_intensity) {
    max_intensity = intensity[i];
    }
    if (intensity[i] < min_intensity) {
    min_intensity = intensity[i];
    }
    }
    var denominator = max_intensity - min_intensity;
    for (var i = 0; i < intensity.length; i++) {
    intensity[i] = (intensity[i] - min_intensity) / denominator;
    }
    if (k%2 == 0) {
    var heat_text = "<p><br><b>Example:</b><br>";
    } else {
    var heat_text = "<b>Example:</b><br>";
    }
    var space = "";
    for (var i = 0; i < tokens.length; i++) {
    heat_text += "<span style='background-color:rgba(" + color + "," + intensity[i] + ")'>" + space + tokens[i] + "</span>";
    if (space == "") {
    space = " ";
    }
    }
    //heat_text += "<p>";
    document.body.innerHTML += heat_text;
    }
    </script>
    </html>